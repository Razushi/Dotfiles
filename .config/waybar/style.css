/* Theme palette - I really should export the colours into a theming conf to share between hyprland and waybar...*/
@define-color bg_bar        #181818;
@define-color fg_text       #faf9f6;
@define-color accent        #ff4444;
@define-color outline_light #faf9f6;
@define-color sep_bottom    #2f2f2f;

/* Base */
* {
  border: none;
  font-family: JetBrainsMono Nerd Font, sans-serif;
  font-size: 16px;
  min-height: 20px;
  border-radius: 0;
}

window#waybar {
  color: @fg_text;
  background-color: @bg_bar;
  border-bottom: 1px solid @sep_bottom;
  box-shadow: none;
}

/* Tooltip */
tooltip {
  background-color: @bg_bar;
  border: 1px solid @accent;
  box-shadow: none;
  border-radius: 3px;
}

tooltip label {
  color: @fg_text; 
}

/* align bar content with tiling area */
.modules-left  { margin-left: 4px; }
.modules-right { margin-right: 8px; }
.modules-left  > *:first-child  { margin-left: 0; }
.modules-right > *:last-child   { margin-right: 0; }
#custom-app-runner { margin: 4px 16px 4px 0; padding-left: 0; }
#custom-app-runner { margin: 4px 0px 4px 16; padding-right: 0; }

/* Modules (no background so the bar border stays continuous) */
#custom-app-runner,
#mpris,
#window,
#tray,
#mode,
#clock,
#battery,
#workspaces {
  background-color: transparent;
}

/* App runner */
#custom-app-runner {
  margin: 4px 24px 4px 4px;
  padding: 0 0 0 6px;
  color: @fg_text;
  border: 1px solid transparent; /* stops push */
  border-radius: 3px;
  font-size: 32px;
  font-weight: 500;
}
#custom-app-runner:hover { border-color: @outline_light; }

#mpris { margin: 4px 24px; }

/* Workspaces */
#workspaces {
  margin: 4px 24px;
  color: #ffffff;
}
#workspaces button {
  margin: 1px;
  padding: 0 12px;
  color: @fg_text;
  background: transparent;
  transition: none;
  border-radius: 3px;
  font-weight: 500;
  font-size: 20px;
  border: 1px solid transparent; /* prevents push on hover */
}
#workspaces button.active {
  color: #ffffff;
  background-color: @accent;
  text-shadow: 0 0 2px rgba(255, 255, 255, 0.9);
}
#workspaces button:hover { border-color: @outline_light; }
#workspaces button.urgent { color: rgba(238, 46, 36, 1); }

/* Spacing */
#mode, #clock, #battery { margin: 3px; }
#pulseaudio { margin-left: 24px; margin-right: 24px; }
#mode { border-bottom: 3px solid white; }
#clock { color: @fg_text; margin-left: 24px; margin-right: 24px; }
#network { margin-left: 24px; margin-right: 24px; }

/* Battery */
#battery { color: black; }
#battery.charging { color: black; background-color: transparent; }
#battery.warning:not(.charging) {
  background: #f53c3c;
  color: white;
  animation: blink 0.5s steps(12) infinite alternate;
}

/* Idle inhibitor */
#idle_inhibitor {
  margin: 4px 0 4px 4px;
  padding: 0 12px;
  color: @fg_text;
  transition: none;
  border-radius: 3px;
  font-weight: 500;
  padding-right: 20px;
  border: 1px solid transparent; /* no reflow */
}
#idle_inhibitor:hover { border-color: @outline_light; }
#idle_inhibitor.activated {
  color: @fg_text;
  text-shadow: 0 0 2px rgba(255, 255, 255, 0.9);
  background-color: @accent;
}

/* Animation */
@keyframes blink {
  to { background-color: @bg_bar; color: @fg_text; }
}
